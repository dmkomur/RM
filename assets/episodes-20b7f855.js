import{l as y,c as d,b as C,a as g,Q as k}from"./marckup-9f9d8dee.js";/* empty css               */const s=document.querySelector(".gallery"),h=document.querySelector(".form-filter"),c=document.querySelector(".backdrop"),u=document.querySelector(".characters-filter-error"),a=document.querySelector(".load-more-btn"),n=new k;h.addEventListener("input",y.exports.debounce(E,350));v();async function v(){const t=await n.getEpisodes();s.addEventListener("click",p);const e=t.results;s.innerHTML=d(e)}async function E(t){i(),n[t.target.name]=t.target.value;const e=await n.getEpisodes();if(!e){s.innerHTML="",u.classList.remove("hidden"),i();return}s.addEventListener("click",p),u.classList.add("hidden"),n.totalPages=e.info.pages,n.nextPage=e.info.next;const o=e.results;s.innerHTML=d(o),n.page<n.totalPages&&S()}async function p(t){if(t.currentTarget===t.target)return;const e=t.target.closest(".episodes-filter-card-list").dataset.id;await m(e),c.classList.remove("is-hidden");const o=document.querySelector(".episodes-popup-btn-close"),r=document.querySelector(".episodes-popup-charlist");o.addEventListener("click",l),r.addEventListener("click",f),document.body.style.overflow="hidden"}async function m(t){const e=await n.getEpi(t),o=await C(e);c.innerHTML=o}async function R(t){const e=t.target.closest(".character-episodes-item").dataset.id;await m(e),document.querySelector(".episodes-popup-btn-close").addEventListener("click",l),document.querySelector(".episodes-popup-charlist").addEventListener("click",f)}async function f(t){const e=t.target.closest(".episodes-popup-charlist-item").dataset.id;await w(e),document.querySelector(".modal-button").addEventListener("click",l),document.querySelector(".little-wrap").addEventListener("click",R)}async function w(t){const e=await n.getChar(t),o=await g(e);c.innerHTML=o}function i(){a.classList.add("visually-hidden"),a.removeEventListener("click",L)}function S(){a.classList.remove("visually-hidden"),a.addEventListener("click",L)}function l(t){c.classList.add("is-hidden"),document.body.style.overflow="auto"}async function L(t){const e=await n.getNextPage(n.nextPage);n.nextPage=e.info.next;const o=e.results;if(s.insertAdjacentHTML("beforeend",d(o)),n.page++,n.page===n.totalPages){i();return}}
